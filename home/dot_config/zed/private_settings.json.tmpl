{{- /*
    Note on file names, if managed by chezmoi, should be alphabetically before settings.json
    This also likely falls into undefined behaviour so you may need to apply twice to get the desired results
    (i.e. first run copies the files, second run generates the template)
*/ -}}

{{- $files := glob (joinPath .chezmoi.homeDir ".config/zed" "?*settings.json") -}}

// Zed settings
//
// For information on how to configure Zed, see the Zed
// documentation: https://zed.dev/docs/configuring-zed
//
// To see all of Zed's default settings without changing your
// custom settings, run the `open default settings` command
// from the command palette or from `Zed` application menu.
//
// This file is auto generated by deep merging the following files in order:
{{- range $files -}}
    {{- $filePath := . -}}
    {{- if stat $filePath }}
//  - {{ $filePath }}
    {{- end -}}
{{- end -}}
{{- $merged := includeTemplate "mergeJson" (concat (list .) $files) | fromJson }}
{{ unset $merged "$schema" | toPrettyJson -}}
