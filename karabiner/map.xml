<?xml version="1.0"?>
<root>
	<item>
		<name>Change {{ SOURCE_KEY_NAME }} key</name>
		<!-- Any extra mappings for particular source key -->
		{{ MAPPINGS_EXTRA }}

        <item>
            <identifier>private.{{ IDENTIFIER_DOMAIN }}.disablekey</identifier>
            {{ DEVICE_QUERY }}
            <name>Disable {{ SOURCE_KEY_NAME }} Key</name>
            <autogen>
                __KeyToKey__
                {{ SOURCE_KEY_CODE }},
                KeyCode::VK_NONE
            </autogen>
        </item>

		<!-- Mappings with target of standard key -->
        <item>
            <identifier>private.{{ IDENTIFIER_DOMAIN }}.ascapslock</identifier>
            {{ DEVICE_QUERY }}
            <name>Use {{ SOURCE_KEY_NAME }} Key as Capslock</name>
            <autogen>
                __KeyToKey__
                {{ SOURCE_KEY_CODE }},
                KeyCode::CAPSLOCK
            </autogen>
        </item>

        <!-- Map Key to itself with ESC when pressed alone -->
        <item>
            <identifier>private.{{ IDENTIFIER_DOMAIN }}.asselfwithesc</identifier>
            {{ DEVICE_QUERY }}
            <name>Use {{ SOURCE_KEY_NAME }} Key as self [{{ SOURCE_KEY_NAME }}]/Esc</name>
            <appendix>Will send Esc if pressed alone</appendix>
            <autogen>
                __KeyOverlaidModifier__
                {{ SOURCE_KEY_CODE }},
                {{ SOURCE_KEY_CODE }},
                KeyCode::ESCAPE
            </autogen>
        </item>

        <!-- Mappings with target of modifier key -->
        <item {{ HIDE_FN_TO_FN_MAPPINGS }}>
            <identifier>private.{{ IDENTIFIER_DOMAIN }}.asspecialfn</identifier>
            {{ DEVICE_QUERY }}
            <name>Use {{ SOURCE_KEY_NAME }} as Special_Fn</name>
            <appendix>Special_Fn is a virtual modifier to mimic the functionality of Fn</appendix>
            <autogen>
                __KeyToKey__
                {{ SOURCE_KEY_CODE }},
                KeyCode::VK_MODIFIER_SPECIAL_FN
            </autogen>
        </item>
        <item {{ HIDE_FN_TO_FN_MAPPINGS }}>
            <identifier>private.{{ IDENTIFIER_DOMAIN }}.asspecialfnwithesc</identifier>
            {{ DEVICE_QUERY }}
            <name>Use {{ SOURCE_KEY_NAME }} as Special_Fn/Esc</name>
            <appendix>Special_Fn is a virtual modifier to mimic the functionality of Fn</appendix>
            <autogen>
                __KeyOverlaidModifier__
                {{ SOURCE_KEY_CODE }},
                KeyCode::VK_MODIFIER_SPECIAL_FN,
                KeyCode::ESCAPE
            </autogen>
        </item>
        <item>
            <identifier>private.{{ IDENTIFIER_DOMAIN }}.ascontrol</identifier>
            {{ DEVICE_QUERY }}
            <name>Use {{ SOURCE_KEY_NAME }} Key as Control_L</name>
            <autogen>
                __KeyToKey__
                {{ SOURCE_KEY_CODE }},
                KeyCode::CONTROL_L
            </autogen>
            <include path="{{ TARGET_MODIFIER_INCLUDE_EXTRA }}">
                <replacementdef>
                    <replacementname>SOURCE_MODIFIER</replacementname>
                    <replacementvalue>ModifierFlag::CONTROL_L</replacementvalue>
                </replacementdef>
				<replacementdef>
					<replacementname>TARGET_MODIFIER</replacementname>
					<replacementvalue>ModifierFlag::CONTROL_L</replacementvalue>
				</replacementdef>
            </include>
        </item>
        <item>
            <identifier>private.{{ IDENTIFIER_DOMAIN }}.asctrlwithesc</identifier>
            {{ DEVICE_QUERY }}
            <name>Use {{ SOURCE_KEY_NAME }} Key as Control_L/Esc</name>
            <appendix>Will send Esc if pressed alone</appendix>
            <autogen>
                __KeyOverlaidModifier__
                {{ SOURCE_KEY_CODE }},
                KeyCode::CONTROL_L,
                KeyCode::ESCAPE
            </autogen>
            <include path="{{ TARGET_MODIFIER_INCLUDE_EXTRA }}">
                <replacementdef>
                    <replacementname>SOURCE_MODIFIER</replacementname>
                    <replacementvalue>ModifierFlag::CONTROL_L</replacementvalue>
                </replacementdef>
				<replacementdef>
					<replacementname>TARGET_MODIFIER</replacementname>
					<replacementvalue>ModifierFlag::CONTROL_L</replacementvalue>
				</replacementdef>
            </include>
        </item>
        <item>
            <identifier>private.{{ IDENTIFIER_DOMAIN }}.ashyper</identifier>
            {{ DEVICE_QUERY }}
            <name>Use {{ SOURCE_KEY_NAME }} Key as Hyper</name>
            <appendix>Hyper is mapped as Control, Shift, Option, Cmd</appendix>
            <autogen>
                __KeyOverlaidModifier__
                {{ SOURCE_KEY_CODE }},
                KeyCode::COMMAND_L,
                ModifierFlag::CONTROL_L | ModifierFlag::SHIFT_L | ModifierFlag::OPTION_L,
                KeyCode::VK_NONE
            </autogen>
            <include path="{{ TARGET_MODIFIER_INCLUDE_EXTRA }}">
                <replacementdef>
                    <replacementname>SOURCE_MODIFIER</replacementname>
                    <replacementvalue>ModifierFlag::SHIFT_L | ModifierFlag::CONTROL_L | ModifierFlag::OPTION_L | ModifierFlag::COMMAND_L</replacementvalue>
                </replacementdef>
                <replacementdef>
                    <replacementname>TARGET_MODIFIER</replacementname>
                    <replacementvalue>ModifierFlag::SHIFT_L | ModifierFlag::CONTROL_L | ModifierFlag::OPTION_L | ModifierFlag::COMMAND_L</replacementvalue>
                </replacementdef>
            </include>
        </item>
        <item>
            <identifier>private.{{ IDENTIFIER_DOMAIN }}.ashyperwithesc</identifier>
            {{ DEVICE_QUERY }}
            <name>Use {{ SOURCE_KEY_NAME }} Key as Hyper/Esc</name>
            <appendix>Hyper is mapped as Control, Shift, Option, Cmd</appendix>
            <appendix>Will send Esc if pressed alone</appendix>
            <autogen>
                __KeyOverlaidModifier__
                {{ SOURCE_KEY_CODE }},
                KeyCode::COMMAND_L,
                ModifierFlag::CONTROL_L | ModifierFlag::SHIFT_L | ModifierFlag::OPTION_L,
                KeyCode::ESCAPE
            </autogen>
            <include path="{{ TARGET_MODIFIER_INCLUDE_EXTRA }}">
                <replacementdef>
                    <replacementname>SOURCE_MODIFIER</replacementname>
                    <replacementvalue>ModifierFlag::SHIFT_L | ModifierFlag::CONTROL_L | ModifierFlag::OPTION_L | ModifierFlag::COMMAND_L</replacementvalue>
                </replacementdef>
                <replacementdef>
                    <replacementname>TARGET_MODIFIER</replacementname>
                    <replacementvalue>ModifierFlag::SHIFT_L | ModifierFlag::CONTROL_L | ModifierFlag::OPTION_L | ModifierFlag::COMMAND_L</replacementvalue>
                </replacementdef>
            </include>
        </item>
        <item>
            <identifier>private.{{ IDENTIFIER_DOMAIN }}.assleep</identifier>
            {{ DEVICE_QUERY }}
            <name>Use {{ SOURCE_KEY_NAME }} Key as Sleep</name>
            <autogen>
                __KeyToKey__
                {{ SOURCE_KEY_CODE }},
                ConsumerKeyCode::POWER, ModifierFlag::CONTROL_L, ModifierFlag::SHIFT_L
            </autogen>
        </item>
    </item>
</root>