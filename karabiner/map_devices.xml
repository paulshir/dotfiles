<?xml version="1.0"?>
<root>
    <!-- Setup Default Replacements -->
    <replacementdef>
        <replacementname>MAPPINGS_EXTRA</replacementname>
        <replacementvalue></replacementvalue>
    </replacementdef>
    <replacementdef>
        <replacementname>TARGET_MODIFIER_INCLUDE_EXTRA</replacementname>
        <replacementvalue>null.xml</replacementvalue>
    </replacementdef>
    <replacementdef>
        <replacementname>HIDE_FN_TO_FN_MAPPINGS</replacementname>
        <replacementvalue></replacementvalue>
    </replacementdef>
    <replacementdef>
        <replacementname>KEY_IS_NOT_MODIFIER</replacementname>
        <replacementvalue>false</replacementvalue>
    </replacementdef>

    <item>
        <include path="map.xml">
            <replacementdef>
                <replacementname>SOURCE_KEY_NAME</replacementname>
                <replacementvalue>Escape</replacementvalue>
            </replacementdef>
            <replacementdef>
                <replacementname>SOURCE_KEY_CODE</replacementname>
                <replacementvalue>KeyCode::ESCAPE</replacementvalue>
            </replacementdef>
            <replacementdef>
                <replacementname>IDENTIFIER_DOMAIN</replacementname>
                <replacementvalue>{{ DEVICE_IDENTIFIER_DOMAIN }}.escape</replacementvalue>
            </replacementdef>
        </include>
        <name>{{ DEVICE_NAME }}</name>
        <include path="map.xml">
            <replacementdef>
                <replacementname>MAPPINGS_EXTRA</replacementname>
                <replacementvalue>
                    <![CDATA[
                        <item>
                            <identifier>private.{{ DEVICE_IDENTIFIER_DOMAIN }}.f19.f19andshiftltocaplock</identifier>
                            {{ DEVICE_QUERY }}
                            <name>F19 (Capslock) + Shift_L to CapsLock</name>
                            <autogen>
                                __KeyToKey__
                                KeyCode::F19, ModifierFlag::SHIFT_L,
                                KeyCode::CAPSLOCK
                            </autogen>
                        </item>
                   ]]>
               </replacementvalue>
            </replacementdef>
            <replacementdef>
                <replacementname>SOURCE_KEY_NAME</replacementname>
                <replacementvalue>F19 (Capslock)</replacementvalue>
            </replacementdef>
            <replacementdef>
                <replacementname>SOURCE_KEY_CODE</replacementname>
                <replacementvalue>KeyCode::F19</replacementvalue>
            </replacementdef>
            <replacementdef>
                <replacementname>IDENTIFIER_DOMAIN</replacementname>
                <replacementvalue>{{ DEVICE_IDENTIFIER_DOMAIN }}.f19</replacementvalue>
            </replacementdef>
        </include>
        <include path="map.xml">
            <replacementdef>
                <replacementname>MAPPINGS_EXTRA</replacementname>
                <replacementvalue>
                    <![CDATA[
                        <item>
                            <identifier>private.{{ DEVICE_IDENTIFIER_DOMAIN }}.capslock.capslockandshiftltocaplock</identifier>
                            {{ DEVICE_QUERY }}
                            <name>Capslock + Shift_L to CapsLock</name>
                            <autogen>
                                __KeyToKey__
                                KeyCode::CAPSLOCK, ModifierFlag::SHIFT_L,
                                KeyCode::CAPSLOCK
                            </autogen>
                        </item>
                   ]]>
               </replacementvalue>
            </replacementdef>
            <replacementdef>
                <replacementname>SOURCE_KEY_NAME</replacementname>
                <replacementvalue>Capslock</replacementvalue>
            </replacementdef>
            <replacementdef>
                <replacementname>SOURCE_KEY_CODE</replacementname>
                <replacementvalue>KeyCode::CAPSLOCK</replacementvalue>
            </replacementdef>
            <replacementdef>
                <replacementname>IDENTIFIER_DOMAIN</replacementname>
                <replacementvalue>{{ DEVICE_IDENTIFIER_DOMAIN }}.capslock</replacementvalue>
            </replacementdef>
        </include>
        <include path="map.xml">
            <replacementdef>
                <replacementname>SOURCE_KEY_NAME</replacementname>
                <replacementvalue>Fn</replacementvalue>
            </replacementdef>
            <replacementdef>
                <replacementname>SOURCE_KEY_CODE</replacementname>
                <replacementvalue>KeyCode::FN</replacementvalue>
            </replacementdef>
            <replacementdef>
                <replacementname>IDENTIFIER_DOMAIN</replacementname>
                <replacementvalue>{{ DEVICE_IDENTIFIER_DOMAIN }}.fn</replacementvalue>
            </replacementdef>
            <replacementdef>
                <replacementname>TARGET_MODIFIER_INCLUDE_EXTRA</replacementname>
                <replacementvalue>fn_target_modifier_include_extra.xml</replacementvalue>
            </replacementdef>
            <replacementdef>
                <replacementname>HIDE_FN_TO_FN_MAPPINGS</replacementname>
                <replacementvalue>hidden=&quot;true&quot;</replacementvalue>
            </replacementdef>
        </include>
        <include path="map.xml">
            <replacementdef>
                <replacementname>SOURCE_KEY_NAME</replacementname>
                <replacementvalue>Control_L</replacementvalue>
            </replacementdef>
            <replacementdef>
                <replacementname>SOURCE_KEY_CODE</replacementname>
                <replacementvalue>KeyCode::CONTROL_L</replacementvalue>
            </replacementdef>
            <replacementdef>
                <replacementname>IDENTIFIER_DOMAIN</replacementname>
                <replacementvalue>{{ DEVICE_IDENTIFIER_DOMAIN }}.controll</replacementvalue>
            </replacementdef>
        </include>
        <include path="map.xml">
            <replacementdef>
                <replacementname>SOURCE_KEY_NAME</replacementname>
                <replacementvalue>Option_L</replacementvalue>
            </replacementdef>
            <replacementdef>
                <replacementname>SOURCE_KEY_CODE</replacementname>
                <replacementvalue>KeyCode::OPTION_L</replacementvalue>
            </replacementdef>
            <replacementdef>
                <replacementname>IDENTIFIER_DOMAIN</replacementname>
                <replacementvalue>{{ DEVICE_IDENTIFIER_DOMAIN }}.optionl</replacementvalue>
            </replacementdef>
        </include>        
        <include path="map.xml">
            <replacementdef>
                <replacementname>SOURCE_KEY_NAME</replacementname>
                <replacementvalue>Command_L</replacementvalue>
            </replacementdef>
            <replacementdef>
                <replacementname>SOURCE_KEY_CODE</replacementname>
                <replacementvalue>KeyCode::COMMAND_L</replacementvalue>
            </replacementdef>
            <replacementdef>
                <replacementname>IDENTIFIER_DOMAIN</replacementname>
                <replacementvalue>{{ DEVICE_IDENTIFIER_DOMAIN }}.commandl</replacementvalue>
            </replacementdef>
        </include>
        <include path="map.xml">
            <replacementdef>
                <replacementname>SOURCE_KEY_NAME</replacementname>
                <replacementvalue>Command_R</replacementvalue>
            </replacementdef>
            <replacementdef>
                <replacementname>SOURCE_KEY_CODE</replacementname>
                <replacementvalue>KeyCode::COMMAND_R</replacementvalue>
            </replacementdef>
            <replacementdef>
                <replacementname>IDENTIFIER_DOMAIN</replacementname>
                <replacementvalue>{{ DEVICE_IDENTIFIER_DOMAIN }}.commandr</replacementvalue>
            </replacementdef>
        </include>
        <include path="map.xml">
            <replacementdef>
                <replacementname>SOURCE_KEY_NAME</replacementname>
                <replacementvalue>Option_R</replacementvalue>
            </replacementdef>
            <replacementdef>
                <replacementname>SOURCE_KEY_CODE</replacementname>
                <replacementvalue>KeyCode::OPTION_R</replacementvalue>
            </replacementdef>
            <replacementdef>
                <replacementname>IDENTIFIER_DOMAIN</replacementname>
                <replacementvalue>{{ DEVICE_IDENTIFIER_DOMAIN }}.optionr</replacementvalue>
            </replacementdef>
        </include>
        <include path="map.xml">
            <replacementdef>
                <replacementname>SOURCE_KEY_NAME</replacementname>
                <replacementvalue>App</replacementvalue>
            </replacementdef>
            <replacementdef>
                <replacementname>SOURCE_KEY_CODE</replacementname>
                <replacementvalue>KeyCode::PC_APPLICATION</replacementvalue>
            </replacementdef>
            <replacementdef>
                <replacementname>IDENTIFIER_DOMAIN</replacementname>
                <replacementvalue>{{ DEVICE_IDENTIFIER_DOMAIN }}.pcapplication</replacementvalue>
            </replacementdef>
        </include>
        <item>
            <name>Change Space Key</name>
            <item>
                <identifier>private.{{ DEVICE_IDENTIFIER_DOMAIN }}.space.holdforfn</identifier>
                {{ DEVICE_QUERY }}
                <name>Use Space as Special_Fn if held down</name>
                <autogen>
                    __KeyOverlaidModifier__
                    KeyCode::SPACE,
                    KeyCode::VK_MODIFIER_SPECIAL_FN,
                    KeyCode::SPACE
                </autogen>
                <block>
                    <modifier_only>ModifierFlag::SPECIAL_FN</modifier_only>
                    <autogen>__BlockUntilKeyUp__ KeyCode::SPACE</autogen>
                    <autogen>
                      __DropAllKeys__
                      ModifierFlag::SPECIAL_FN,

                      Option::DROPALLKEYS_DROP_KEY,
                      Option::DROPALLKEYS_DROP_CONSUMERKEY,
                      Option::DROPALLKEYS_DROP_POINTINGBUTTON,
                    </autogen>
                </block>
            </item>
        </item>
    </item>
</root>
