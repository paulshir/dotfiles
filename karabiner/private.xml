<?xml version="1.0"?>
<root>
    <!-- Define Custom Modifiers -->
    <modifierdef>SPECIAL_FN</modifierdef>

    <item><name>────── Private Mappings ──────</name></item>
    <include path="disablekeys.xml"></include>
    <item>
        <name>Extend Fn/Special_Fn Key</name>
        <appendix>Special Fn is a virtual modifier to mimic the functionality of Fn</appendix>
        <item>
            <identifier>private.extendfn.vimnav</identifier>
            <name>VIM Navigation</name>            
            <autogen>__KeyToKey__ KeyCode::H, ModifierFlag::FN, KeyCode::CURSOR_LEFT</autogen>
            <autogen>__KeyToKey__ KeyCode::J, ModifierFlag::FN, KeyCode::CURSOR_DOWN</autogen>
            <autogen>__KeyToKey__ KeyCode::K, ModifierFlag::FN, KeyCode::CURSOR_UP</autogen>
            <autogen>__KeyToKey__ KeyCode::L, ModifierFlag::FN, KeyCode::CURSOR_RIGHT</autogen>
            <autogen>__KeyToKey__ KeyCode::H, ModifierFlag::SPECIAL_FN, KeyCode::CURSOR_LEFT</autogen>
            <autogen>__KeyToKey__ KeyCode::J, ModifierFlag::SPECIAL_FN, KeyCode::CURSOR_DOWN</autogen>
            <autogen>__KeyToKey__ KeyCode::K, ModifierFlag::SPECIAL_FN, KeyCode::CURSOR_UP</autogen>
            <autogen>__KeyToKey__ KeyCode::L, ModifierFlag::SPECIAL_FN, KeyCode::CURSOR_RIGHT</autogen>
        </item>
        <item>
            <identifier>private.extendfn.numtofnum</identifier>
            <name>Map FN/Special_Fn and Num Keys to F1-F12</name>
            <autogen>__KeyToKey__ KeyCode::1, ModifierFlag::FN, KeyCode::F1</autogen>
            <autogen>__KeyToKey__ KeyCode::2, ModifierFlag::FN, KeyCode::F2</autogen>
            <autogen>__KeyToKey__ KeyCode::3, ModifierFlag::FN, KeyCode::F3</autogen>
            <autogen>__KeyToKey__ KeyCode::4, ModifierFlag::FN, KeyCode::F4</autogen>
            <autogen>__KeyToKey__ KeyCode::5, ModifierFlag::FN, KeyCode::F5</autogen>
            <autogen>__KeyToKey__ KeyCode::6, ModifierFlag::FN, KeyCode::F6</autogen>
            <autogen>__KeyToKey__ KeyCode::7, ModifierFlag::FN, KeyCode::F7</autogen>
            <autogen>__KeyToKey__ KeyCode::8, ModifierFlag::FN, KeyCode::F8</autogen>
            <autogen>__KeyToKey__ KeyCode::9, ModifierFlag::FN, KeyCode::F9</autogen>
            <autogen>__KeyToKey__ KeyCode::0, ModifierFlag::FN, KeyCode::F10</autogen>
            <autogen>__KeyToKey__ KeyCode::MINUS, ModifierFlag::FN, KeyCode::F11</autogen>
            <autogen>__KeyToKey__ KeyCode::EQUAL, ModifierFlag::FN, KeyCode::F12</autogen>
            <autogen>__KeyToKey__ KeyCode::1, ModifierFlag::SPECIAL_FN, KeyCode::F1</autogen>
            <autogen>__KeyToKey__ KeyCode::2, ModifierFlag::SPECIAL_FN, KeyCode::F2</autogen>
            <autogen>__KeyToKey__ KeyCode::3, ModifierFlag::SPECIAL_FN, KeyCode::F3</autogen>
            <autogen>__KeyToKey__ KeyCode::4, ModifierFlag::SPECIAL_FN, KeyCode::F4</autogen>
            <autogen>__KeyToKey__ KeyCode::5, ModifierFlag::SPECIAL_FN, KeyCode::F5</autogen>
            <autogen>__KeyToKey__ KeyCode::6, ModifierFlag::SPECIAL_FN, KeyCode::F6</autogen>
            <autogen>__KeyToKey__ KeyCode::7, ModifierFlag::SPECIAL_FN, KeyCode::F7</autogen>
            <autogen>__KeyToKey__ KeyCode::8, ModifierFlag::SPECIAL_FN, KeyCode::F8</autogen>
            <autogen>__KeyToKey__ KeyCode::9, ModifierFlag::SPECIAL_FN, KeyCode::F9</autogen>
            <autogen>__KeyToKey__ KeyCode::0, ModifierFlag::SPECIAL_FN, KeyCode::F10</autogen>
            <autogen>__KeyToKey__ KeyCode::MINUS, ModifierFlag::SPECIAL_FN, KeyCode::F11</autogen>
            <autogen>__KeyToKey__ KeyCode::EQUAL, ModifierFlag::SPECIAL_FN, KeyCode::F12</autogen>
        </item>
        <item>
            <identifier>private.extendfn.pok3r</identifier>
            <name>Add some other mappings from the pok3r to FN/Special_Fn</name>
            <autogen>__KeyToKey__ KeyCode::Q, ModifierFlag::FN, ConsumerKeyCode::MUSIC_PREV_18</autogen>
            <autogen>__KeyToKey__ KeyCode::W, ModifierFlag::FN, ConsumerKeyCode::MUSIC_PLAY</autogen>
            <autogen>__KeyToKey__ KeyCode::E, ModifierFlag::FN, ConsumerKeyCode::MUSIC_NEXT_17</autogen>
            <autogen>__KeyToKey__ KeyCode::U, ModifierFlag::FN, KeyCode::PAGEDOWN</autogen>
            <autogen>__KeyToKey__ KeyCode::I, ModifierFlag::FN, KeyCode::PAGEUP</autogen>
            <autogen>__KeyToKey__ KeyCode::N, ModifierFlag::FN, KeyCode::END</autogen>
            <autogen>__KeyToKey__ KeyCode::O, ModifierFlag::FN, KeyCode::HOME</autogen>
            <autogen>__KeyToKey__ KeyCode::P, ModifierFlag::FN, KeyCode::F13</autogen>
            <autogen>__KeyToKey__ KeyCode::BRACKET_LEFT, ModifierFlag::FN, ConsumerKeyCode::BRIGHTNESS_DOWN</autogen>
            <autogen>__KeyToKey__ KeyCode::BRACKET_RIGHT, ModifierFlag::FN, ConsumerKeyCode::BRIGHTNESS_UP</autogen>
            <autogen>__KeyToKey__ KeyCode::A, ModifierFlag::FN, ConsumerKeyCode::VOLUME_MUTE</autogen>
            <autogen>__KeyToKey__ KeyCode::S, ModifierFlag::FN, ConsumerKeyCode::VOLUME_DOWN</autogen>
            <autogen>__KeyToKey__ KeyCode::D, ModifierFlag::FN, ConsumerKeyCode::VOLUME_UP</autogen>
            <autogen>__KeyToKey__ KeyCode::SEMICOLON, ModifierFlag::FN, KeyCode::HELP</autogen>
            <autogen>__KeyToKey__ KeyCode::QUOTE, ModifierFlag::FN, KeyCode::FORWARD_DELETE</autogen>
            <autogen>__KeyToKey__ KeyCode::Z, ModifierFlag::FN, KeyCode::PC_APPLICATION</autogen>
            <autogen>__KeyToKey__ KeyCode::F19, ModifierFlag::FN, KeyCode::CAPSLOCK</autogen>
            <autogen>__KeyToKey__ KeyCode::CAPSLOCK, ModifierFlag::FN, KeyCode::CAPSLOCK</autogen>
            <autogen>__KeyToKey__ KeyCode::TAB, ModifierFlag::FN, KeyCode::BACKQUOTE, ModifierFlag::COMMAND_L</autogen>
            <autogen>__KeyToKey__ KeyCode::BACKSLASH, ModifierFlag::FN, KeyCode::R, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_L</autogen>

            <autogen>__KeyToKey__ KeyCode::Q, ModifierFlag::SPECIAL_FN, ConsumerKeyCode::MUSIC_PREV_18</autogen>
            <autogen>__KeyToKey__ KeyCode::W, ModifierFlag::SPECIAL_FN, ConsumerKeyCode::MUSIC_PLAY</autogen>
            <autogen>__KeyToKey__ KeyCode::E, ModifierFlag::SPECIAL_FN, ConsumerKeyCode::MUSIC_NEXT_17</autogen>
            <autogen>__KeyToKey__ KeyCode::U, ModifierFlag::SPECIAL_FN, KeyCode::PAGEDOWN</autogen>
            <autogen>__KeyToKey__ KeyCode::I, ModifierFlag::SPECIAL_FN, KeyCode::PAGEUP</autogen>
            <autogen>__KeyToKey__ KeyCode::N, ModifierFlag::SPECIAL_FN, KeyCode::END</autogen>
            <autogen>__KeyToKey__ KeyCode::O, ModifierFlag::SPECIAL_FN, KeyCode::HOME</autogen>
            <autogen>__KeyToKey__ KeyCode::P, ModifierFlag::SPECIAL_FN, KeyCode::F13</autogen>
            <autogen>__KeyToKey__ KeyCode::BRACKET_LEFT, ModifierFlag::SPECIAL_FN, ConsumerKeyCode::BRIGHTNESS_DOWN</autogen>
            <autogen>__KeyToKey__ KeyCode::BRACKET_RIGHT, ModifierFlag::SPECIAL_FN, ConsumerKeyCode::BRIGHTNESS_UP</autogen>
            <autogen>__KeyToKey__ KeyCode::A, ModifierFlag::SPECIAL_FN, ConsumerKeyCode::VOLUME_MUTE</autogen>
            <autogen>__KeyToKey__ KeyCode::S, ModifierFlag::SPECIAL_FN, ConsumerKeyCode::VOLUME_DOWN</autogen>
            <autogen>__KeyToKey__ KeyCode::D, ModifierFlag::SPECIAL_FN, ConsumerKeyCode::VOLUME_UP</autogen>
            <autogen>__KeyToKey__ KeyCode::SEMICOLON, ModifierFlag::SPECIAL_FN, KeyCode::HELP</autogen>
            <autogen>__KeyToKey__ KeyCode::QUOTE, ModifierFlag::SPECIAL_FN, KeyCode::FORWARD_DELETE</autogen>
            <autogen>__KeyToKey__ KeyCode::Z, ModifierFlag::SPECIAL_FN, KeyCode::PC_APPLICATION</autogen>
            <autogen>__KeyToKey__ KeyCode::F19, ModifierFlag::SPECIAL_FN, KeyCode::CAPSLOCK</autogen>
            <autogen>__KeyToKey__ KeyCode::CAPSLOCK, ModifierFlag::SPECIAL_FN, KeyCode::CAPSLOCK</autogen>
            <autogen>__KeyToKey__ KeyCode::TAB, ModifierFlag::SPECIAL_FN, KeyCode::BACKQUOTE, ModifierFlag::COMMAND_L</autogen>
            <autogen>__KeyToKey__ KeyCode::BACKSLASH, ModifierFlag::SPECIAL_FN, KeyCode::R, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_L</autogen>

            <autogen>__KeyToKey__ KeyCode::ESCAPE, ModifierFlag::SHIFT_L, KeyCode::BACKQUOTE, ModifierFlag::SHIFT_L</autogen>
            <autogen>__KeyToKey__ KeyCode::ESCAPE, ModifierFlag::SHIFT_R, KeyCode::BACKQUOTE, ModifierFlag::SHIFT_R</autogen>
            <autogen>__KeyToKey__ KeyCode::ESCAPE, ModifierFlag::FN, KeyCode::BACKQUOTE</autogen>
            <autogen>__KeyToKey__ KeyCode::ESCAPE, ModifierFlag::SPECIAL_FN, KeyCode::BACKQUOTE</autogen>
        </item>
        <item>
            <identifier>private.extendfn.extend</identifier>
            <name>Map OSX Fn bindings to Special_Fn</name>
            
            <!-- F1-F12 -->
            <autogen>__KeyToKey__ KeyCode::F1, ModifierFlag::SPECIAL_FN, ConsumerKeyCode::BRIGHTNESS_DOWN</autogen>
            <autogen>__KeyToKey__ KeyCode::F2, ModifierFlag::SPECIAL_FN, ConsumerKeyCode::BRIGHTNESS_UP</autogen>
            <autogen>__KeyToKey__ KeyCode::F3, ModifierFlag::SPECIAL_FN, KeyCode::MISSION_CONTROL</autogen>
            <autogen>__KeyToKey__ KeyCode::F4, ModifierFlag::SPECIAL_FN, KeyCode::LAUNCHPAD</autogen>
            <autogen>__KeyToKey__ KeyCode::F5, ModifierFlag::SPECIAL_FN, ConsumerKeyCode::KEYBOARDLIGHT_LOW</autogen>
            <autogen>__KeyToKey__ KeyCode::F6, ModifierFlag::SPECIAL_FN, ConsumerKeyCode::KEYBOARDLIGHT_HIGH</autogen>
            <autogen>__KeyToKey__ KeyCode::F7, ModifierFlag::SPECIAL_FN, ConsumerKeyCode::MUSIC_PREV</autogen>
            <autogen>__KeyToKey__ KeyCode::F8, ModifierFlag::SPECIAL_FN, ConsumerKeyCode::MUSIC_PLAY</autogen>
            <autogen>__KeyToKey__ KeyCode::F9, ModifierFlag::SPECIAL_FN, ConsumerKeyCode::MUSIC_NEXT</autogen>
            <autogen>__KeyToKey__ KeyCode::F10, ModifierFlag::SPECIAL_FN, ConsumerKeyCode::VOLUME_MUTE</autogen>
            <autogen>__KeyToKey__ KeyCode::F11, ModifierFlag::SPECIAL_FN, ConsumerKeyCode::VOLUME_DOWN</autogen>
            <autogen>__KeyToKey__ KeyCode::F12, ModifierFlag::SPECIAL_FN, ConsumerKeyCode::VOLUME_UP</autogen>

            <!-- F1-F12 as consumer keys -->
            <autogen>__KeyToKey__ ConsumerKeyCode::BRIGHTNESS_DOWN, ModifierFlag::SPECIAL_FN, KeyCode::F1</autogen>
            <autogen>__KeyToKey__ ConsumerKeyCode::BRIGHTNESS_UP, ModifierFlag::SPECIAL_FN, KeyCode::F2</autogen>
            <autogen>__KeyToKey__ KeyCode::MISSION_CONTROL, ModifierFlag::SPECIAL_FN, KeyCode::F3</autogen>
            <autogen>__KeyToKey__ KeyCode::LAUNCHPAD, ModifierFlag::SPECIAL_FN, KeyCode::F4</autogen>
            <autogen>__KeyToKey__ ConsumerKeyCode::KEYBOARDLIGHT_LOW, ModifierFlag::SPECIAL_FN, KeyCode::F5</autogen>
            <autogen>__KeyToKey__ ConsumerKeyCode::KEYBOARDLIGHT_HIGH, ModifierFlag::SPECIAL_FN, KeyCode::F6</autogen>
            <autogen>__KeyToKey__ ConsumerKeyCode::MUSIC_PREV, ModifierFlag::SPECIAL_FN, KeyCode::F7</autogen>
            <autogen>__KeyToKey__ ConsumerKeyCode::MUSIC_PLAY, ModifierFlag::SPECIAL_FN, KeyCode::F8</autogen>
            <autogen>__KeyToKey__ ConsumerKeyCode::MUSIC_NEXT, ModifierFlag::SPECIAL_FN, KeyCode::F9</autogen>
            <autogen>__KeyToKey__ ConsumerKeyCode::VOLUME_MUTE, ModifierFlag::SPECIAL_FN, KeyCode::F10</autogen>
            <autogen>__KeyToKey__ ConsumerKeyCode::VOLUME_DOWN, ModifierFlag::SPECIAL_FN, KeyCode::F11</autogen>
            <autogen>__KeyToKey__ ConsumerKeyCode::VOLUME_UP, ModifierFlag::SPECIAL_FN, KeyCode::F12</autogen>

            <!-- Other FN Keys -->
            <autogen>__KeyToKey__ KeyCode::CURSOR_LEFT, ModifierFlag::SPECIAL_FN, KeyCode::HOME</autogen>
            <autogen>__KeyToKey__ KeyCode::CURSOR_RIGHT, ModifierFlag::SPECIAL_FN, KeyCode::END</autogen>
            <autogen>__KeyToKey__ KeyCode::CURSOR_UP, ModifierFlag::SPECIAL_FN, KeyCode::PAGEUP</autogen>
            <autogen>__KeyToKey__ KeyCode::CURSOR_DOWN, ModifierFlag::SPECIAL_FN, KeyCode::PAGEDOWN</autogen>
            <autogen>__KeyToKey__ KeyCode::DELETE, ModifierFlag::SPECIAL_FN, KeyCode::FORWARD_DELETE</autogen>
            <autogen>__KeyToKey__ KeyCode::RETURN, ModifierFlag::SPECIAL_FN, KeyCode::ENTER</autogen>
        </item>
    </item>
    <item>
        <name>Change Function Keys</name>
        <item>
            <identifier>private.functionkeys.holdforconsumerkeys</identifier>
            <name>Hold down F1-F12 to use consumer keys</name>
            <appendix>This settings requires that "Use F1, F2, etc. as standard function keys" is set to on in the System Preferences</appendix>
            <appendix>When F1-F12 is pressed the key will be used as F1-F12</appendix>
            <appendix>When F1-F12 is held down the key will be used as a consumer key</appendix>
            <autogen>
                __HoldingKeyToKey__
                KeyCode::F1

                @begin
                KeyCode::F1
                @end
                @begin
                ConsumerKeyCode::BRIGHTNESS_DOWN
                @end
            </autogen>
            <autogen>
                __HoldingKeyToKey__
                KeyCode::F2

                @begin
                KeyCode::F2
                @end
                @begin
                ConsumerKeyCode::BRIGHTNESS_UP
                @end
            </autogen>
            <autogen>
                __HoldingKeyToKey__
                KeyCode::F3

                @begin
                KeyCode::F3
                @end
                @begin
                KeyCode::MISSION_CONTROL
                @end
            </autogen>
            <autogen>
                __HoldingKeyToKey__
                KeyCode::F4

                @begin
                KeyCode::F4
                @end
                @begin
                KeyCode::LAUNCHPAD
                @end
            </autogen>
            <autogen>
                __HoldingKeyToKey__
                KeyCode::F5

                @begin
                KeyCode::F5
                @end
                @begin
                ConsumerKeyCode::KEYBOARDLIGHT_LOW
                @end
            </autogen>
            <autogen>
                __HoldingKeyToKey__
                KeyCode::F6

                @begin
                KeyCode::F6
                @end
                @begin
                ConsumerKeyCode::KEYBOARDLIGHT_HIGH
                @end
            </autogen>
            <autogen>
                __HoldingKeyToKey__
                KeyCode::F7

                @begin
                KeyCode::F7
                @end
                @begin
                ConsumerKeyCode::MUSIC_PREV
                @end
            </autogen>
            <autogen>
                __HoldingKeyToKey__
                KeyCode::F8

                @begin
                KeyCode::F8
                @end
                @begin
                ConsumerKeyCode::MUSIC_PLAY
                @end
            </autogen>
            <autogen>
                __HoldingKeyToKey__
                KeyCode::F9

                @begin
                KeyCode::F9
                @end
                @begin
                ConsumerKeyCode::MUSIC_NEXT
                @end
            </autogen>
            <autogen>
                __HoldingKeyToKey__
                KeyCode::F10

                @begin
                KeyCode::F10
                @end
                @begin
                ConsumerKeyCode::VOLUME_MUTE
                @end
            </autogen>
            <autogen>
                __HoldingKeyToKey__
                KeyCode::F11

                @begin
                KeyCode::F11
                @end
                @begin
                ConsumerKeyCode::VOLUME_DOWN
                @end
            </autogen>
            <autogen>
                __HoldingKeyToKey__
                KeyCode::F12

                @begin
                KeyCode::F12
                @end
                @begin
                ConsumerKeyCode::VOLUME_UP
                @end
            </autogen>
        </item>
    </item>
    <item>
        <name>Change Mouse Scrolling</name>
        <item>
            <name>For external mice switch the scroll direction</name>
            <identifier>private.scroll.unnaturalmousescrolling</identifier>
            <device_not>DeviceVendor::APPLE_COMPUTER</device_not>
            <autogen>__FlipScrollWheel__ Option::FLIPSCROLLWHEEL_VERTICAL</autogen>
        </item>
    </item>
    <item>
        <name>Change Logitech Mouse Scrolling</name>
        <item>
            <name>For external mice switch the scroll direction</name>
            <identifier>private.scroll.logitech.unnaturalmousescrolling</identifier>
            <device_only>DeviceVendor::RawValue::0x046d</device_only>
            <autogen>__FlipScrollWheel__ Option::FLIPSCROLLWHEEL_VERTICAL</autogen>
        </item>
    </item>
    <item>
        <vkopenurldef>
            <name>KeyCode::VK_OPEN_URL_SHELL_HOLD_COMMAND_Q_TO_QUIT</name>
            <url type="shell">
              <![CDATA[
                osascript -e "display notification \"Hold ⌘ + Q to quit\" with title \"⌘ + Q saftey is on\""
              ]]>
            </url>
        </vkopenurldef>
        <name>Change Quit Key</name>
        <item>
            <name>Require holding down Cmd + Q to send command</name>
            <identifier>private.cmdq.requirehold</identifier>
            <autogen>
                __HoldingKeyToKey__
                KeyCode::Q,
                ModifierFlag::COMMAND_L

                @begin
                KeyCode::VK_OPEN_URL_SHELL_HOLD_COMMAND_Q_TO_QUIT
                @end
                @begin
                KeyCode::Q,
                ModifierFlag::COMMAND_L
                @end

                Option::NOREPEAT
            </autogen>
        </item>
    </item>

    <!-- Generate Mapping Options -->
    <item><name>───── Private Remappings ─────</name></item>  
    <include path="map_devices.xml">
        <replacementdef>
            <replacementname>DEVICE_NAME</replacementname>
            <replacementvalue>Apple Devices Only</replacementvalue>
        </replacementdef>
        <replacementdef>
            <replacementname>DEVICE_QUERY</replacementname>
            <replacementvalue>
                <![CDATA[
                    <device_only>DeviceVendor::APPLE_COMPUTER</device_only>
                ]]>
            </replacementvalue>
        </replacementdef>
        <replacementdef>
            <replacementname>DEVICE_IDENTIFIER_DOMAIN</replacementname>
            <replacementvalue>apple</replacementvalue>
        </replacementdef>
    </include>
    <include path="map_devices.xml">
        <replacementdef>
            <replacementname>DEVICE_NAME</replacementname>
            <replacementvalue>External Devices Only</replacementvalue>
        </replacementdef>
        <replacementdef>
            <replacementname>DEVICE_QUERY</replacementname>
            <replacementvalue>
                <![CDATA[
                    <device_not>DeviceVendor::APPLE_COMPUTER</device_not>
                ]]>
            </replacementvalue>
        </replacementdef>
        <replacementdef>
            <replacementname>DEVICE_IDENTIFIER_DOMAIN</replacementname>
            <replacementvalue>external</replacementvalue>
        </replacementdef>
    </include>
    <include path="map_devices.xml">
        <replacementdef>
            <replacementname>DEVICE_NAME</replacementname>
            <replacementvalue>All Devices</replacementvalue>
        </replacementdef>
        <replacementdef>
            <replacementname>DEVICE_QUERY</replacementname>
            <replacementvalue></replacementvalue>
        </replacementdef>
        <replacementdef>
            <replacementname>DEVICE_IDENTIFIER_DOMAIN</replacementname>
            <replacementvalue>default</replacementvalue>
        </replacementdef>
    </include>

    <item><name>──────────────────────────────</name></item>
</root>
